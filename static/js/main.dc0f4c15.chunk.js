(this.webpackJsonpboussole=this.webpackJsonpboussole||[]).push([[0],{174:function(e,t,a){},175:function(e,t,a){},181:function(e,t){e.exports="data:image/png;base64,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"},185:function(e,t,a){e.exports=a(351)},190:function(e,t,a){},239:function(e,t){},241:function(e,t){},272:function(e,t){},273:function(e,t){},345:function(e,t,a){},346:function(e,t,a){},347:function(e,t,a){},348:function(e,t,a){},350:function(e,t,a){},351:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(65),i=a.n(c),s=(a(190),a(44)),o=a(45),l=a(176),u=a(8);function d(e){for(var t="",a=0;a<e;a++)t+="0123456789abcdef".charAt(Math.floor(Math.random()*"0123456789abcdef".length));return t}var h=a(30);function g(e,t,a){var n=e[t];if(!n)throw new Error("No task found with id {id}");return e[t]=Object(u.a)({},n,{},a),Object(u.a)({},e)}function f(e,t){var a="".concat(d(8),"-").concat(d(4),"-").concat(d(4),"-").concat(d(4),"-").concat(d(12)),n=new Date;return e[a]=Object(u.a)({},t,{id:a,created:n,modified:n}),Object(u.a)({},e)}function A(){var e=Object(h.b)();return{createTask:function(t){return e({type:"CreateTask",task:t})},updateTask:function(t,a){return e({type:"UpdateTask",id:t,task:a})}}}var m=function(e){return{state:e,dateClosed:"finished"===e||"abandoned"===e?new Date:void 0}},p=a(5),v=a.n(p),E=a(29),w=a(67),b=a(178),k=["https://www.googleapis.com/auth/userinfo.profile","https://www.googleapis.com/auth/drive"];window.boussoleAuthManager||(window.boussoleAuthManager=new function e(){var t=this;Object(w.a)(this,e),this.oAuth2Client=new b.OAuth2Client({clientId:"186913784324-548k2j5jsqlht13qhu2miegr42fu0v56.apps.googleusercontent.com",redirectUri:"".concat(window.location.origin)}),this.state=void 0,this.listeners=[],this.setState=function(e){t.state=e,t.listeners.forEach((function(t){return t(e)}))},this.subscribe=function(e){return t.listeners.push(e),function(){t.unsubscribe(e)}},this.unsubscribe=function(e){var a=t.listeners.indexOf(e);a>-1&&t.listeners.splice(a,1)},this.getState=function(){return t.state},this.getOAuth2Client=function(){return t.oAuth2Client},this.authenticate=function(){console.debug("Auth: RedirectingToGoogle"),t.state={status:"AuthenticationNeeded"},Object(E.a)(v.a.mark((function e(){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.oAuth2Client.generateAuthUrl({scope:k,login_hint:"lucmoco@gmail.com",state:window.location.pathname+window.location.search+window.location.hash,response_type:"token"}),window.location.href=a;case 2:case"end":return e.stop()}}),e)})))()},this.oAuth2Client.transporter.configure();var a=new URLSearchParams(window.location.hash.substr(1)),n=a.get("access_token");if(n){var r=a.get("state");if(!r)throw new Error("missing originalPage field.");var c=a.get("expires_in");if(!c)throw new Error("missing expires_in field.");var i=new Date;i.setSeconds(i.getSeconds()+parseInt(c)),console.debug("Auth: TokenReceived"),this.state={status:"TokenReceived"},this.oAuth2Client.setCredentials({access_token:n}),localStorage.setItem("access_token","".concat(n,"|").concat(i.toISOString())),window.history.replaceState(null,"",r),this.setState({status:"Authenticated",expiration:i})}else{var s=localStorage.getItem("access_token"),o=null;if(s){var l=s.split("|");n=l[0],(o=new Date(l[1])).getTime()<(new Date).getTime()+6e5&&(o=null)}o?(this.oAuth2Client.setCredentials({access_token:n}),this.state={status:"Authenticated",expiration:o}):(this.state={status:"AuthenticationNeeded"},this.authenticate())}});var C=window.boussoleAuthManager;function S(e){return O.apply(this,arguments)}function O(){return(O=Object(E.a)(v.a.mark((function e(t){var a,n,r,c,i,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=window.localStorage.NotesFileId)){e.next=3;break}return e.abrupt("return",a);case 3:return n=new URLSearchParams({q:"'root' in parents and mimeType = 'application/vnd.google-apps.folder' and name = 'boussole-data-files'",fields:"files/id"}),e.next=6,t.request({url:"https://www.googleapis.com/drive/v3/files?".concat(n)});case 6:return r=e.sent,c=r.data.files[0].id,i=new URLSearchParams({q:"'".concat(c,"' in parents and name = 'notes.json'"),fields:"files/id"}),e.next=11,t.request({url:"https://www.googleapis.com/drive/v3/files?".concat(i)});case 11:return s=e.sent,window.localStorage.NotesFileId=a=s.data.files[0].id,e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){if("Authenticated"!==C.getState().status)throw new Error("Not authenticated.")}function j(){return(j=Object(E.a)(v.a.mark((function e(){var t,a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(),t=C.getOAuth2Client(),e.next=4,S(t);case 4:return a=e.sent,e.next=7,t.request({url:"https://www.googleapis.com/drive/v3/files/".concat(a,"?alt=media")});case 7:return n=e.sent,e.abrupt("return",n.data);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(E.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(),a=C.getOAuth2Client(),e.next=4,S(a);case 4:return n=e.sent,e.next=7,a.request({url:"https://www.googleapis.com/upload/drive/v3/files/".concat(n),method:"PATCH",data:JSON.stringify(t,null,1)});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R={getData:function(){return j.apply(this,arguments)},saveData:function(e){return x.apply(this,arguments)}};function D(e){var t,a=[];for(var n in e.tasks)a.push({state:"created"===(t=e.tasks[n]).state?void 0:t.state,id:t.id,title:t.title,description:t.description||void 0,created:t.created,modified:t.modified,dateClosed:t.dateClosed});return{tasks:a}}function F(e){var t={};return e.tasks.forEach((function(e){return t[e.id]=function(e){return{state:e.state||"created",id:e.id,title:e.title,description:e.description||"",created:e.created,modified:e.modified,dateClosed:e.dateClosed}}(e)})),{tasks:t}}var Q=function(e){e(function(){var e=Object(E.a)(v.a.mark((function e(t,a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("inactive"===a().dataStorage.status){e.next=3;break}throw Error("An action is already ongoing.");case 3:return t({type:"ModelFetching"}),e.prev=4,e.next=7,R.getData();case 7:n=e.sent,t({type:"ModelFetched",appState:F(n)}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),t({type:"ModelFetchError",error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a){return e.apply(this,arguments)}}())};var I=Object(o.c)({tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UpdateTask":return g(e,t.id,t.task);case"CreateTask":return f(e,t.task);default:return e}},dataStorage:function(e){return e||{status:"inactive"}}}),N=function(e,t){return e=function(e,t){if(void 0===e)throw new Error("dataStorageReducer: Unexpected undefined appState.");switch(t.type){case"ModelFetching":return Object(u.a)({},e,{dataStorage:Object(u.a)({},e.dataStorage,{status:"fetching",fetchError:void 0})});case"ModelFetched":return Object(u.a)({},t.appState,{dataStorage:Object(u.a)({},e.dataStorage,{status:"inactive",fetchError:void 0})});case"ModelFetchError":return Object(u.a)({},e,{dataStorage:Object(u.a)({},e.dataStorage,{status:"inactive",fetchError:t.error})});case"ModelSaving":return Object(u.a)({},e,{dataStorage:Object(u.a)({},e.dataStorage,{status:"saving",saveError:void 0})});case"ModelSaved":return Object(u.a)({},e,{dataStorage:Object(u.a)({},e.dataStorage,{status:"inactive",saveError:void 0})});case"ModelSaveError":return Object(u.a)({},e,{dataStorage:Object(u.a)({},e.dataStorage,{status:"inactive",saveError:t.error})});default:return e}}(e=I(e,t),t)},M=(a(174),a(32)),y=a(20);function H(){var e=Object(n.useState)(C.getState()),t=Object(y.a)(e,2),a=t[0],c=t[1];return r.a.useEffect((function(){C.subscribe(c)}),[]),a}var L=a(179),W=a(183),Z=a(180),z=a(184),q=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(W.a)(this,Object(Z.a)(t).call(this,e))).state={isError:!1,error:null},a}return Object(z.a)(t,e),Object(L.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({isError:!0,error:t})}},{key:"render",value:function(){return this.state.isError?n.createElement("div",null,this.state.error.componentStack):this.props.children}}]),t}(n.Component),V=(a(175),a(345),a(346),function(e){var t=e.children;return r.a.createElement("div",{className:"overlay"},t)}),K=(a(347),function(e){var t=e.isLight,a=e.isWide,n=e.title,c=e.onClick,i=e.children,s=["button"];return t&&s.push("light"),a&&s.push("wide"),r.a.createElement("div",{className:s.join(" "),title:n,onClick:c},i)}),U=function(e){var t=e.title,a=e.buttons,n=e.children;return r.a.createElement(V,null,r.a.createElement("div",{className:"dialog"},t&&r.a.createElement("div",{className:"title"},t),r.a.createElement("div",{className:"content"},n),a&&r.a.createElement("div",{className:"buttons"},a.map((function(e){return r.a.createElement(K,{isWide:!0,onClick:e.onclick},e.text)})))))};var Y=function e(t){var a=t.small,n=t.state,c=t.readonly,i=t.stateChanged,s=r.a.useState(!1),o=Object(y.a)(s,2),l=o[0],u=o[1],d=function(e){u(!1),i(e)},h=function(t){return n===t?null:r.a.createElement(e,{key:t,state:t,readonly:!0,stateChanged:function(){return d(t)}})};return r.a.createElement("div",null,r.a.createElement("div",{className:"task-state ".concat(n).concat(a?" small":""),onClick:function(e){e.stopPropagation(),c?(u(!1),i(n)):u(!0)}},!a&&function(e){switch(e){case"created":return"En attente";case"in-backlog":return"Dans le radar";case"active":return"En cours";case"finished":return"Termin\xe9e";case"abandoned":return"Abandonn\xe9e"}}(n)),l&&r.a.createElement(U,{buttons:[{text:"Annuler",onclick:function(){u(!1),i(void 0)}}]},h("created"),h("in-backlog"),h("active"),r.a.createElement("div",{className:"task-state-closed"},h("finished"),h("abandoned"))))},P=function(e){var t=e.task,a=e.onClick,n=A().updateTask;return r.a.createElement("div",{onClick:a,className:"task"},r.a.createElement("div",{className:"title"},t.title),r.a.createElement(Y,{small:!0,state:t.state,stateChanged:function(e){return e&&n(t.id,m(e))}}))},T=(a(348),function(e){var t=e.label,a=e.children;return r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},t),r.a.createElement("div",{className:"content"},a))});function G(e){var t=Object(n.useMemo)((function(){return e.task?e.task.id:void 0}),[e.task]),a=Object(n.useState)(e.task||{state:"created",title:"",description:""}),c=Object(y.a)(a,2),i=c[0],s=c[1],o=A(),l=o.createTask,d=o.updateTask;return r.a.createElement(U,{title:t?"Modifier une t\xe2che":"Nouvelle t\xe2che",buttons:[{text:"Valider",onclick:function(){t?d(t,i):l(i),e.onClose()}},{text:"Annuler",onclick:e.onClose}]},r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,{state:i.state,stateChanged:function(e){return e&&s(Object(u.a)({},i,{},m(e)))}}),r.a.createElement(T,{label:"titre"},r.a.createElement("input",{type:"text",value:i.title,onChange:function(e){return s(Object(u.a)({},i,{title:e.target.value}))}})),r.a.createElement(T,{label:"description"},r.a.createElement("textarea",{value:i.description,onChange:function(e){return s(Object(u.a)({},i,{description:e.target.value}))}}))))}function X(e){var t=Math.round((e.getTime()-(new Date).getTime())/1e3);return t>100?"".concat(Math.round(t/60)," min."):"".concat(Math.round(t)," sec.")}function J(e){var t=e.authState,a="Authenticated"===t.status?t.expiration:null,n=r.a.useState(null===a?null:X(a)),c=Object(y.a)(n,2),i=c[0],s=c[1];return r.a.useEffect((function(){if(null!==a){var e=setInterval((function(){s(X(a))}),1e3);return function(){return clearInterval(e)}}}),[a]),null===a?r.a.createElement("div",null,"Not authenticated."):r.a.createElement(K,{onClick:C.authenticate,title:"Renouveler l'authentification"},i)}var _=a(181),$=a.n(_),ee=function(e){return r.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd",viewBox:"0 0 640 640"},e),r.a.createElement("path",{d:"M626.689 15.414zm-55.654 574.472v.011H459.336c-2.09 0-3.79-1.689-3.79-3.767V416.97l-.013-.508c0-4.701-.862-8.599-2.575-11.587a23.657 23.657 0 0 0-1.05-1.618 13.646 13.646 0 0 0-1.23-1.394l-.105-.13c-1.571-1.559-3.544-2.764-5.859-3.59l-1.287-.39-.201-.071h-.035c-2.15-.579-4.571-.874-7.205-.886h-.26l-.402-.012H204.262c-4.618 0-8.433.886-11.35 2.528l-.095.07-1.382.875-.212.189c-.485.354-.957.791-1.394 1.193l-.083.094-.035.036c-3.213 3.271-4.82 8.197-4.82 14.705l-.023.2V586.13h-.012c0 2.08-1.724 3.756-3.78 3.756h-63.874a3.744 3.744 0 0 1-2.681-1.11l-62.906-62.894a3.901 3.901 0 0 1-1.512-3.083V69.474l-.024-.402c0-4.323.78-7.949 2.292-10.795h.011c.284-.555.58-1.016.898-1.5l.13-.166a9.743 9.743 0 0 1 1.3-1.535l.046-.083.13-.13h.012c1.323-1.322 2.965-2.35 4.82-3.094l.188-.095.095-.035.082-.06.945-.318v.012l.071-.036c2.197-.708 4.713-1.05 7.512-1.11l.46-.035h54.202c2.079 0 3.791 1.689 3.791 3.767v227.436c0 2.729.237 5.35.697 7.796a36.732 36.732 0 0 0 2.02 6.992l.07.106.013.036v.012a38.87 38.87 0 0 0 3.472 6.52c1.347 2.019 2.894 4.027 4.713 5.905l.118.094.023.036.036.012a38.841 38.841 0 0 0 8.433 6.638l.06.011.07.024.07.035 1.678.886.024.012 2.09.933v.012l.036.012.012.012h.035v.011c1.713.709 3.472 1.347 5.232 1.784h.036l.165.023.047.012h.178l1.346.284v.012c2.362.448 4.854.708 7.382.732l.106-.012h309.181c5.386 0 10.323-.933 14.847-2.787l.07-.048c4.536-1.866 8.682-4.677 12.473-8.421l.142-.177c1.866-1.878 3.579-3.91 4.996-6.024a36.432 36.432 0 0 0 3.45-6.342l.011-.06.035-.059.036-.118a35.794 35.794 0 0 0 2.138-6.98l.023-.142c.46-2.457.685-5.067.685-7.772V53.871c0-2.079 1.725-3.78 3.827-3.78h53.765c3.047 0 5.693.367 8.008 1.075 2.492.78 4.618 2.032 6.26 3.674 1.346 1.334 2.433 3.023 3.189 4.972l-.024.012.07.095.32.909h-.024l.06.13c.72 2.138 1.05 4.654 1.11 7.406l.047.448v.284l-.024.082v501.727c0 2.906-.378 5.587-1.075 7.855l-.059.165v.012l-.012.118-.413 1.122h-.012l-.118.296-.472 1.039-.071.2-.13.213-.012-.012-.154.308-.755 1.169h-.012l-.26.401-.732.898-.32.354c-.767.815-1.7 1.56-2.74 2.186a17.6 17.6 0 0 1-2.881 1.358l-.331.118c-.839.283-1.76.52-2.74.72l-.095.012-.059.012-.094.024-.45.07-.106.024h-.023l-.083.012c-1.17.165-2.54.283-3.957.307h-.696zM467.912 51.155l-296.248-1.063V262.42h-.024c0 2.386.295 4.465.886 6.272.154.295.224.543.343.78a10.107 10.107 0 0 0 2.078 3.153l.154.142v.011c.295.296.59.544.874.768.307.26.697.496 1.063.709 2.055 1.193 4.795 1.76 8.232 1.76v.011l269 1.312v-.012h.023v.012c4.724 0 8.197-1.099 10.346-3.308 2.186-2.22 3.284-5.716 3.296-10.535h-.024V51.155zM221.177 426.502h79.23v.023c1.842 0 3.377 1.5 3.377 3.343V586.53c0 1.843-1.535 3.367-3.378 3.367h-79.23v-.012c-1.83 0-3.365-1.512-3.365-3.355V429.868c0-1.842 1.535-3.366 3.366-3.366zm405.596 197.672zm-576.15-622h543.55c6.355 0 12.237 1.122 17.67 3.342l2.646 1.17c4.394 2.137 8.469 5.066 12.272 8.799l3.39 3.85 2.929 4.075c4.594 7.217 6.933 15.425 6.933 24.591v543.538c0 6.33-1.122 12.225-3.354 17.693-2.21 5.445-5.516 10.418-9.922 14.988a46.306 46.306 0 0 1-7.724 6.32l-1.323.885a40.453 40.453 0 0 1-5.823 2.989c-5.457 2.29-11.35 3.413-17.705 3.413H90.475l-1.276-1.287-83.576-83.576-5.48-3.638V47.846C-1.7 27.544 14.683 7.89 32.907 5.493c5.469-2.209 11.374-3.319 17.717-3.319z"}))},te=function(e){var t=e.headerControls,a=e.children,n=H(),c=function(){var e=Object(h.b)();return function(){return Q(e)}}(),i=function(){var e=Object(h.b)();return function(){return e(function(){var e=Object(E.a)(v.a.mark((function e(t,a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("inactive"===(n=a()).dataStorage.status){e.next=3;break}throw Error("An action is already ongoing.");case 3:return t({type:"ModelSaving"}),e.prev=4,e.next=7,R.saveData(D(n));case 7:t({type:"ModelSaved"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),t({type:"ModelSaveError",error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t,a){return e.apply(this,arguments)}}())}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement(s.b,{to:"/home"},"Home"),r.a.createElement(s.b,{to:"/tasks"},"T\xe2ches"),r.a.createElement(J,{authState:n}),r.a.createElement(K,{onClick:c,isLight:!0,title:"Recharger les donn\xe9es"},r.a.createElement("img",{src:$.a,alt:"Recharger les donn\xe9es"})),r.a.createElement(K,{onClick:i,isLight:!0,title:"Recharger les donn\xe9es"},r.a.createElement(ee,{height:20,width:20,fill:"white"})),t),r.a.createElement("section",null,a))},ae=function(e){return r.a.createElement("svg",Object.assign({},e,{viewBox:"0 0 10 10"}),r.a.createElement("path",{d:"M 0.25,1.5 4.25,6 v 3.75 H 5.75 V 6 l 4,-4.5 v -1.25 l -9.5,0 z",fill:"none",strokeWidth:.5,strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:4}))},ne=function(e){var t=e.visible,a=e.text,n=e.textChanged;return r.a.createElement("div",{className:"tasksFilter".concat(t?" visible":"")},r.a.createElement("div",{className:"tasksFilterInner"},r.a.createElement("input",{className:"taskFilterText",value:a,onChange:function(e){return n(e.target.value)}})))};function re(e){switch(e){case"active":return 0;case"in-backlog":return 1;case"created":return 2;case"finished":return 3;case"abandoned":return 4}}function ce(e,t){return e.state!==t.state?re(e.state)<re(t.state)?-1:1:e.title.localeCompare(t.title)}function ie(){var e=Object(h.c)((function(e){return e.tasks})),t=r.a.useState({isOpen:!1}),a=Object(y.a)(t,2),n=a[0],c=a[1],i=r.a.useState(!1),s=Object(y.a)(i,2),o=s[0],l=s[1],u=r.a.useState(""),d=Object(y.a)(u,2),g=d[0],f=d[1];return o&&(e=e),r.a.createElement(te,{headerControls:r.a.createElement(K,{onClick:function(){return l(!o)},isLight:!0,title:"Recharger les donn\xe9es"},r.a.createElement(ae,{height:20,width:20,stroke:"white"}))},r.a.createElement("div",{className:"taskList"},r.a.createElement(ne,{visible:o,text:g,textChanged:f}),r.a.createElement("div",{className:"tasks"},function(e,t){var a=Object.keys(e).map((function(t){return e[t]})).sort(ce);return t&&(t=t.toLowerCase(),a=a.filter((function(e){return e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)}))),a}(e,o?g:"").map((function(e){return r.a.createElement(P,{key:e.id,task:e,onClick:function(){return c({isOpen:!0,taskId:e.id})}})}))),r.a.createElement("div",{className:"tasksButtons"},r.a.createElement(K,{isWide:!0,onClick:function(){return c({isOpen:!0,taskId:void 0})}},"+")),n.isOpen&&r.a.createElement(G,{task:n.taskId?e[n.taskId]:void 0,onClose:function(){return c({isOpen:!1})}})))}a(350);var se=function(e){return r.a.createElement(V,null,r.a.createElement("div",{className:"messageDialog"},e.children))};function oe(){var e=Object(M.g)();return r.a.createElement(r.a.Fragment,null,"Invalid path: \xab ",e.pathname," \xbb")}var le=function(){var e=H(),t=Object(h.c)((function(e){return e.dataStorage}));return"Error"===e.status?r.a.createElement(se,null,'Authentication failed: "',e.errorMessage,'"'):"AuthenticationNeeded"===e.status?r.a.createElement(se,null,"Auth required. AuthenticationNeeded..."):"TokenReceived"===e.status?r.a.createElement(se,null,"TokenReceived..."):r.a.createElement("div",{className:"App"},r.a.createElement(q,null,r.a.createElement(M.d,null,r.a.createElement(M.b,{path:"/",exact:!0},r.a.createElement(M.a,{to:"/tasks"})),r.a.createElement(M.b,{path:"/home",exact:!0},r.a.createElement(te,null,"Home page")),r.a.createElement(M.b,{path:"/tasks",exact:!0},r.a.createElement(ie,null)),r.a.createElement(M.b,{path:"*"},r.a.createElement(oe,null)))),"fetching"===t.status&&r.a.createElement(se,null,"Chargement en cours..."),"saving"===t.status&&r.a.createElement(se,null,"Enregistrement en cours..."))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement((function(){var e=Object(n.useMemo)((function(){var e=Object(o.d)(N,Object(o.a)(l.a));return Q(e.dispatch),e}),[]);return r.a.createElement(h.a,{store:e},r.a.createElement(s.a,null,r.a.createElement(le,null)))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},93:function(e,t){}},[[185,1,2]]]);
//# sourceMappingURL=main.dc0f4c15.chunk.js.map