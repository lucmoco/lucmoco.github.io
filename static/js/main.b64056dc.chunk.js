(this.webpackJsonpboussole=this.webpackJsonpboussole||[]).push([[0],{171:function(e,t,n){},177:function(e,t){e.exports="data:image/png;base64,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"},181:function(e,t,n){e.exports=n(349)},186:function(e,t,n){},232:function(e,t){},234:function(e,t){},268:function(e,t){},269:function(e,t){},342:function(e,t,n){},343:function(e,t,n){},344:function(e,t,n){},345:function(e,t,n){},346:function(e,t,n){},347:function(e,t,n){},349:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(66),i=n.n(c),o=(n(186),n(57)),s=n(45),u=n(172),l=n(44),d="0123456789abcdef";function h(e){for(var t="",n=0;n<e;n++)t+=d.charAt(Math.floor(Math.random()*d.length));return t}var f=n(31);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(){return{state:"created",title:"",description:""}};function E(e,t){var n="".concat(h(8),"-").concat(h(4),"-").concat(h(4),"-").concat(h(4),"-").concat(h(12)),a=new Date;return e[n]=p({},t,{id:n,created:a,modified:a}),p({},e)}var m=function(){return Object(f.c)((function(e){return e.tasks}))};function v(){var e=Object(f.b)();return{createTask:function(t){return e({type:"CreateTask",task:t})},updateTask:function(t,n){return e({type:"UpdateTask",id:t,task:n})}}}var b=function(e){return{state:e,dateClosed:"finished"===e||"abandoned"===e?new Date:void 0}},w=n(5),k=n.n(w),O=n(30),S=n(68),j=n(174),B=["https://www.googleapis.com/auth/userinfo.profile","https://www.googleapis.com/auth/drive"];window.boussoleAuthManager||(window.boussoleAuthManager=new function e(){var t=this;Object(S.a)(this,e),this.oAuth2Client=new j.OAuth2Client({clientId:"186913784324-548k2j5jsqlht13qhu2miegr42fu0v56.apps.googleusercontent.com",redirectUri:"".concat(window.location.origin)}),this.state=void 0,this.listeners=[],this.setState=function(e){t.state=e,t.listeners.forEach((function(t){return t(e)}))},this.subscribe=function(e){return t.listeners.push(e),function(){t.unsubscribe(e)}},this.unsubscribe=function(e){var n=t.listeners.indexOf(e);n>-1&&t.listeners.splice(n,1)},this.getState=function(){return t.state},this.getOAuth2Client=function(){return t.oAuth2Client},this.authenticate=function(){console.debug("Auth: RedirectingToGoogle"),t.state={status:"AuthenticationNeeded"},Object(O.a)(k.a.mark((function e(){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.oAuth2Client.generateAuthUrl({scope:B,login_hint:"lucmoco@gmail.com",state:window.location.pathname+window.location.search+window.location.hash,response_type:"token"}),window.location.href=n;case 2:case"end":return e.stop()}}),e)})))()},this.oAuth2Client.transporter.configure();var n=new URLSearchParams(window.location.hash.substr(1)),a=n.get("access_token");if(a){var r=n.get("state");if(!r)throw new Error("missing originalPage field.");var c=n.get("expires_in");if(!c)throw new Error("missing expires_in field.");var i=new Date;i.setSeconds(i.getSeconds()+parseInt(c)),console.debug("Auth: TokenReceived"),this.state={status:"TokenReceived"},this.oAuth2Client.setCredentials({access_token:a}),localStorage.setItem("access_token","".concat(a,"|").concat(i.toISOString())),window.history.replaceState(null,"",r),this.setState({status:"Authenticated",expiration:i})}else{var o=localStorage.getItem("access_token"),s=null;if(o){var u=o.split("|");a=u[0],(s=new Date(u[1])).getTime()<(new Date).getTime()+6e5&&(s=null)}s?(this.oAuth2Client.setCredentials({access_token:a}),this.state={status:"Authenticated",expiration:s}):(this.state={status:"AuthenticationNeeded"},this.authenticate())}});var C=window.boussoleAuthManager;function y(e){return D.apply(this,arguments)}function D(){return(D=Object(O.a)(k.a.mark((function e(t){var n,a,r,c,i,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=window.localStorage.NotesFileId)){e.next=3;break}return e.abrupt("return",n);case 3:return a=new URLSearchParams({q:"'root' in parents and mimeType = 'application/vnd.google-apps.folder' and name = 'boussole-data-files'",fields:"files/id"}),e.next=6,t.request({url:"https://www.googleapis.com/drive/v3/files?".concat(a)});case 6:return r=e.sent,c=r.data.files[0].id,i=new URLSearchParams({q:"'".concat(c,"' in parents and name = 'notes.json'"),fields:"files/id"}),e.next=11,t.request({url:"https://www.googleapis.com/drive/v3/files?".concat(i)});case 11:return o=e.sent,window.localStorage.NotesFileId=n=o.data.files[0].id,e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){if("Authenticated"!==C.getState().status)throw new Error("Not authenticated.")}function R(){return(R=Object(O.a)(k.a.mark((function e(){var t,n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(),t=C.getOAuth2Client(),e.next=4,y(t);case 4:return n=e.sent,e.next=7,t.request({url:"https://www.googleapis.com/drive/v3/files/".concat(n,"?alt=media")});case 7:return a=e.sent,e.abrupt("return",a.data);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(O.a)(k.a.mark((function e(t){var n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(),n=C.getOAuth2Client(),e.next=4,y(n);case 4:return a=e.sent,e.next=7,n.request({url:"https://www.googleapis.com/upload/drive/v3/files/".concat(a),method:"PATCH",data:JSON.stringify(t,null,1)});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q={getData:function(){return R.apply(this,arguments)},saveData:function(e){return F.apply(this,arguments)}};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e){var t,n=[];for(var a in e.tasks)n.push({state:"created"===(t=e.tasks[a]).state?void 0:t.state,id:t.id,title:t.title,description:t.description||void 0,created:t.created,modified:t.modified,dateClosed:t.dateClosed});return{tasks:n}}function P(e){var t={};return e.tasks.forEach((function(e){return t[e.id]=function(e){return{state:e.state||"created",id:e.id,title:e.title,description:e.description||"",created:e.created,modified:e.modified,dateClosed:e.dateClosed}}(e)})),{tasks:t}}var H=function(e){e(function(){var e=Object(O.a)(k.a.mark((function e(t,n){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("inactive"===n().dataStorage.status){e.next=3;break}throw Error("An action is already ongoing.");case 3:return t({type:"ModelFetching"}),e.prev=4,e.next=7,Q.getData();case 7:a=e.sent,t({type:"ModelFetched",appState:P(a)}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),t({type:"ModelFetchError",error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n){return e.apply(this,arguments)}}())};var W=Object(s.c)({tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UpdateTask":return function(e,t,n){var a=e[t];if(!a)throw new Error("No task found with id {id}");return e[t]=p({},a,{},n),p({},e)}(e,t.id,t.task);case"CreateTask":return E(e,t.task);default:return e}},dataStorage:function(e){return e||{status:"inactive"}}}),L=function(e,t){return e=function(e,t){if(void 0===e)throw new Error("dataStorageReducer: Unexpected undefined appState.");switch(t.type){case"ModelFetching":return N({},e,{dataStorage:N({},e.dataStorage,{status:"fetching",fetchError:void 0})});case"ModelFetched":return N({},t.appState,{dataStorage:N({},e.dataStorage,{status:"inactive",fetchError:void 0})});case"ModelFetchError":return N({},e,{dataStorage:N({},e.dataStorage,{status:"inactive",fetchError:t.error})});case"ModelSaving":return N({},e,{dataStorage:N({},e.dataStorage,{status:"saving",saveError:void 0})});case"ModelSaved":return N({},e,{dataStorage:N({},e.dataStorage,{status:"inactive",saveError:void 0})});case"ModelSaveError":return N({},e,{dataStorage:N({},e.dataStorage,{status:"inactive",saveError:t.error})});default:return e}}(e=W(e,t),t)},Z=(n(342),n(34)),q=n(24);var K=n(175),z=n(179),U=n(176),Y=n(180),V=function(e){function t(e){var n;return Object(S.a)(this,t),(n=Object(z.a)(this,Object(U.a)(t).call(this,e))).state={isError:!1,error:null},n}return Object(Y.a)(t,e),Object(K.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({isError:!0,error:t})}},{key:"render",value:function(){return this.state.isError?a.createElement("div",null,this.state.error.componentStack):this.props.children}}]),t}(a.Component),T=(n(343),function(e){var t=e.isLight,n=e.isWide,a=e.title,c=e.onClick,i=e.children,o=["button"];return t&&o.push("light"),n&&o.push("wide"),r.a.createElement("div",{className:o.join(" "),title:a,onClick:c},i)});function G(e){var t=Math.round((e.getTime()-(new Date).getTime())/1e3);return t>100?"".concat(Math.round(t/60)," min."):"".concat(Math.round(t)," sec.")}function X(e){var t=e.authState,n="Authenticated"===t.status?t.expiration:null,a=r.a.useState(null===n?null:G(n)),c=Object(q.a)(a,2),i=c[0],o=c[1];return r.a.useEffect((function(){if(null!==n){var e=setInterval((function(){o(G(n))}),1e3);return function(){return clearInterval(e)}}}),[n]),null===n?r.a.createElement("div",null,"Not authenticated."):r.a.createElement(T,{onClick:C.authenticate,title:"Renouveler l'authentification"},i)}n(171),n(344),n(345);var J=function(e){var t=e.children;return r.a.createElement("div",{className:"overlay"},t)},_=function(e){var t=e.title,n=e.buttons,a=e.children;return r.a.createElement(J,null,r.a.createElement("div",{className:"dialog"},t&&r.a.createElement("div",{className:"title"},t),r.a.createElement("div",{className:"content"},a),n&&r.a.createElement("div",{className:"buttons"},n.map((function(e){return r.a.createElement(T,{isWide:!0,onClick:e.onclick},e.text)})))))};var $=function e(t){var n=t.small,a=t.state,c=t.readonly,i=t.stateChanged,o=r.a.useState(!1),s=Object(q.a)(o,2),u=s[0],l=s[1],d=function(e){l(!1),i(e)},h=function(t){return a===t?null:r.a.createElement(e,{key:t,state:t,readonly:!0,stateChanged:function(){return d(t)}})};return r.a.createElement("div",null,r.a.createElement("div",{className:"task-state ".concat(a).concat(n?" small":""),onClick:function(e){e.stopPropagation(),c?(l(!1),i(a)):l(!0)}},!n&&function(e){switch(e){case"created":return"En attente";case"in-backlog":return"Dans le radar";case"active":return"En cours";case"finished":return"Termin\xe9e";case"abandoned":return"Abandonn\xe9e"}}(a)),u&&r.a.createElement(_,{buttons:[{text:"Annuler",onclick:function(){l(!1),i(void 0)}}]},h("created"),h("in-backlog"),h("active"),r.a.createElement("div",{className:"task-state-closed"},h("finished"),h("abandoned"))))},ee=function(e){var t=e.task,n=e.onClick,a=v().updateTask;return r.a.createElement("div",{onClick:n,className:"task"},r.a.createElement("div",{className:"title"},t.title),r.a.createElement($,{small:!0,state:t.state,stateChanged:function(e){return e&&a(t.id,b(e))}}))},te=(n(346),function(e){var t=e.label,n=e.children;return r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},t),r.a.createElement("div",{className:"content"},n))});function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e){var t=Object(a.useMemo)((function(){return e.task?e.task.id:void 0}),[e.task]),n=Object(a.useState)(e.task||A()),c=Object(q.a)(n,2),i=c[0],o=c[1],s=v(),u=s.createTask,l=s.updateTask;return r.a.createElement(_,{title:t?"Modifier une t\xe2che":"Nouvelle t\xe2che",buttons:[{text:"Valider",onclick:function(){t?l(t,i):u(i),e.onClose()}},{text:"Annuler",onclick:e.onClose}]},r.a.createElement(r.a.Fragment,null,r.a.createElement($,{state:i.state,stateChanged:function(e){return e&&o(ae({},i,{},b(e)))}}),r.a.createElement(te,{label:"titre"},r.a.createElement("input",{type:"text",value:i.title,onChange:function(e){return o(ae({},i,{title:e.target.value}))}})),r.a.createElement(te,{label:"description"},r.a.createElement("textarea",{value:i.description,onChange:function(e){return o(ae({},i,{description:e.target.value}))}}))))}function ce(e){switch(e){case"active":return 0;case"in-backlog":return 1;case"created":return 2;case"finished":return 3;case"abandoned":return 4}}function ie(e,t){return e.state!==t.state?ce(e.state)<ce(t.state)?-1:1:e.title.localeCompare(t.title)}function oe(){var e=m(),t=r.a.useState({isOpen:!1}),n=Object(q.a)(t,2),a=n[0],c=n[1];return r.a.createElement("div",{className:"taskList"},r.a.createElement("div",{className:"tasks"},function(e){return Object.keys(e).map((function(t){return e[t]})).sort(ie)}(e).map((function(e){return r.a.createElement(ee,{key:e.id,task:e,onClick:function(){return c({isOpen:!0,taskId:e.id})}})}))),r.a.createElement("div",{className:"tasksButtons"},r.a.createElement(T,{isWide:!0,onClick:function(){return c({isOpen:!0,taskId:void 0})}},"+")),a.isOpen&&r.a.createElement(re,{task:a.taskId?e[a.taskId]:void 0,onClose:function(){return c({isOpen:!1})}}))}n(347);var se=function(e){return r.a.createElement(J,null,r.a.createElement("div",{className:"messageDialog"},e.children))},ue=n(177),le=n.n(ue);function de(){var e=Object(Z.f)();return r.a.createElement(r.a.Fragment,null,"Invalid path: \xab ",e.pathname," \xbb")}var he=function(){var e=function(){var e=Object(a.useState)(C.getState()),t=Object(q.a)(e,2),n=t[0],c=t[1];return r.a.useEffect((function(){C.subscribe(c)}),[]),n}(),t=Object(f.c)((function(e){return e.dataStorage})),n=function(){var e=Object(f.b)();return function(){return H(e)}}(),c=function(){var e=Object(f.b)();return function(){return e(function(){var e=Object(O.a)(k.a.mark((function e(t,n){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("inactive"===(a=n()).dataStorage.status){e.next=3;break}throw Error("An action is already ongoing.");case 3:return t({type:"ModelSaving"}),e.prev=4,e.next=7,Q.saveData(M(a));case 7:t({type:"ModelSaved"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),t({type:"ModelSaveError",error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t,n){return e.apply(this,arguments)}}())}}();return"Error"===e.status?r.a.createElement(se,null,'Authentication failed: "',e.errorMessage,'"'):"AuthenticationNeeded"===e.status?r.a.createElement(se,null,"Auth required. AuthenticationNeeded..."):"TokenReceived"===e.status?r.a.createElement(se,null,"TokenReceived..."):r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement(o.b,{to:"/"},"Home"),r.a.createElement(o.b,{to:"/tasks"},"T\xe2ches"),r.a.createElement(X,{authState:e}),r.a.createElement(T,{onClick:n,isLight:!0,title:"Recharger les donn\xe9es"},r.a.createElement("img",{src:le.a,alt:"Recharger les donn\xe9es"})),r.a.createElement(T,{onClick:c,isLight:!0},"Enregistrer")),r.a.createElement("section",null,r.a.createElement(V,null,r.a.createElement(Z.c,null,r.a.createElement(Z.a,{path:"/",exact:!0},"Home page"),r.a.createElement(Z.a,{path:"/tasks",exact:!0},r.a.createElement(oe,null)),r.a.createElement(Z.a,{path:"*"},r.a.createElement(de,null))))),"fetching"===t.status&&r.a.createElement(se,null,"Chargement en cours..."),"saving"===t.status&&r.a.createElement(se,null,"Enregistrement en cours..."))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement((function(){var e=Object(a.useMemo)((function(){var e=Object(s.d)(L,Object(s.a)(u.a));return H(e.dispatch),e}),[]);return r.a.createElement(f.a,{store:e},r.a.createElement(o.a,null,r.a.createElement(he,null)))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},92:function(e,t){}},[[181,1,2]]]);
//# sourceMappingURL=main.b64056dc.chunk.js.map